<!DOCTYPE html>
<html>
  <head>
    <title>My Clicker</title>
  </head>
  <body>
    <img src="images/Georgi1.png" id="clicker-image" onclick="incrementCounter()">
    <p id="counter">0</p>
    <button id="upgrade-button" onclick="buyUpgrade()" disabled>Buy Grandma (100 clicks)</button>
    <img src="images/2D274905391507-today-tech-grandmabetty-140317.png" id="upgrade-image" style="display:none">
    <script>
      let counter = 0;
      let clicksPerSecond = 0;
      let upgradeCost = 100;

      function incrementCounter() {
        counter++;
        document.getElementById("counter").innerHTML = counter;
      }

      function buyUpgrade() {
        if (counter >= upgradeCost) {
          counter -= upgradeCost;
          clicksPerSecond++;
          document.getElementById("counter").innerHTML = counter;
          document.getElementById("upgrade-button").innerHTML = "Upgrade bought (+1 click/s)";
          document.getElementById("upgrade-button").disabled = true;
          document.getElementById("upgrade-image").style.display = "block";
          setInterval(autoIncrement, 1000);
        } else {
          alert("You need " + (upgradeCost - counter) + " more clicks to buy the upgrade");
        }
      }
      function autoIncrement() {
        counter += clicksPerSecond;
        document.getElementById("counter").innerHTML = counter;
      }

      // check if the user has enough clicks to buy the upgrade
      setInterval(function() {
        if (counter >= upgradeCost) {
          document.getElementById("upgrade-button").disabled = false;
        } else {
          document.getElementById("upgrade-button").disabled = true;
        }
      }, 500);
    </script>
  </body>
</html>